/**
 * ═══════════════════════════════════════════════════════════════════════════
 * KNOWLEDGE BASE DATA - מאגר ידע ושאלות נפוצות
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * @description מבנה נתונים למרכז העזרה - קטגוריות, מאמרים ותוכן
 * @version 1.0.0
 * @for Users age 40-60 - Simple, Clear, Direct
 *
 */

'use strict';

// ═══════════════════════════════════════════════════════════════════════════
// CATEGORIES - קטגוריות ראשיות
// ═══════════════════════════════════════════════════════════════════════════

const KB_CATEGORIES = {
    budget: {
        id: 'budget',
        name: 'משימות ותקצוב',
        icon: 'tasks',
        description: 'ניהול משימות, תקצוב ועקיבה אחרי שעות',
        order: 1
    },
    timesheet: {
        id: 'timesheet',
        name: 'שעתון ודיווחי זמן',
        icon: 'timesheet',
        description: 'דיווח שעות, פעילות פנימית ומשרדית',
        order: 2
    },
    clients: {
        id: 'clients',
        name: 'לקוחות ותיקים',
        icon: 'clients',
        description: 'ניהול לקוחות, חיפוש ופתיחת תיקים',
        order: 3
    },
    reports: {
        id: 'reports',
        name: 'דוחות וסטטיסטיקות',
        icon: 'reports',
        description: 'יצירת דוחות וניתוח נתונים',
        order: 4
    },
    general: {
        id: 'general',
        name: 'כללי ושונות',
        icon: 'settings',
        description: 'הגדרות, טיפים ושאלות כלליות',
        order: 5
    }
};

// ═══════════════════════════════════════════════════════════════════════════
// ARTICLES - מאמרי עזרה
// ═══════════════════════════════════════════════════════════════════════════

const KB_ARTICLES = [
    // ─────────────────────────────────────────────────────────────────────────
    // קטגוריה: משימות ותקצוב
    // ─────────────────────────────────────────────────────────────────────────
    {
        id: 'create_task',
        category: 'budget',
        title: 'איך יוצרים משימה חדשה?',
        summary: 'מדריך שלב-אחר-שלב ליצירת משימת תקצוב',
        keywords: ['משימה חדשה', 'תקצוב', 'הוסף משימה', 'task', 'todo', 'משימה', 'יצירה'],
        icon: 'create',

        content: {
            intro: 'יצירת משימה חדשה היא הדרך לעקוב אחרי עבודה על לקוח ולתקצב זמן.',

            steps: [
                {
                    number: 1,
                    title: 'פתיחת טופס משימה',
                    text: 'לחץ על הכפתור **+** בראש המסך (או Ctrl+N)',
                    highlight: '#smartPlusBtn'
                },
                {
                    number: 2,
                    title: 'בחירת לקוח ותיק',
                    text: 'חפש ובחר את הלקוח והתיק הרלוונטיים. החיפוש עובד על שם, ת.ז., טלפון ואימייל.',
                    highlight: '#budgetClientCaseSelector'
                },
                {
                    number: 3,
                    title: 'פרטי המשימה',
                    text: `מלא את הפרטים:
• **תיאור**: מה צריך לעשות? (מינימום 3 תווים)
• **דקות משוערות**: כמה זמן תיקח המשימה?
• **תאריך יעד**: מתי צריך לסיים? (אופציונלי)`,
                    highlight: '#budgetForm'
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: 'לחץ **"הוסף לתקצוב"**. המשימה תופיע מיד ברשימת "פעילות בלבד".'
                }
            ],

            tips: [
                '💡 שעות משוערות = כמה זמן אתה חושב שזה ייקח',
                '📅 תאריך יעד עוזר לעקוב אחרי לוחות זמנים',
                '✍️ תיאור המשימה לא חובה אבל מומלץ'
            ],

            actionButton: {
                text: '🚀 פתח טופס משימה עכשיו',
                action: '(() => { window.switchTab?.("budget"); setTimeout(() => window.openSmartForm?.(), 200); })()'
            },

            relatedArticles: ['add_time_to_task', 'track_budget', 'edit_task']
        }
    },

    {
        id: 'add_time_to_task',
        category: 'budget',
        title: 'איך מוסיפים זמן למשימה?',
        summary: 'דרך הנכונה לדווח זמן עבודה על לקוח',
        keywords: ['הוסף זמן', 'דווח זמן', 'זמן למשימה', 'שעות', 'time'],
        icon: 'addTime',

        content: {
            intro: 'כשאתה עובד על משימה של לקוח, כך מדווחים את הזמן.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת המשימה',
                    text: 'עבור לטאב **"משימות"** ומצא את המשימה ברשימה.'
                },
                {
                    number: 2,
                    title: 'לחיצה על "הוסף זמן"',
                    text: `איפה הכפתור?
• **בתצוגת כרטיסיות**: כפתור כחול עם שעון ⏱️
• **בתצוגת טבלה**: אייקון שעון בעמודת הפעולות`
                },
                {
                    number: 3,
                    title: 'הזנת הזמן',
                    text: 'הזן כמה **דקות** עבדת (למשל: 60 = שעה אחת).'
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: `לחץ **"שמור"** והמערכת אוטומטית:
✅ רושמת את הזמן בשעתון
✅ מעדכנת את התקציב
✅ קושרת ללקוח ולתיק`
                }
            ],

            tips: [
                '🔍 אם אין כפתור "הוסף זמן" - המשימה כבר הושלמה',
                '⏰ אפשר להוסיף זמן כמה פעמים שרוצים',
                '📈 הכל מסודר ומקושר אוטומטית!'
            ],

            relatedArticles: ['create_task', 'report_hours', 'track_budget']
        }
    },

    {
        id: 'track_budget',
        category: 'budget',
        title: 'איך עוקבים אחרי תקציב?',
        summary: 'מעקב אחרי שעות בפועל מול שעות משוערות',
        keywords: ['תקציב', 'עקיבה', 'שעות בפועל', 'חריגה', 'budget tracking'],
        icon: 'chart',

        content: {
            intro: 'המערכת עוקבת אוטומטית אחרי התקציב של כל משימה.',

            steps: [
                {
                    number: 1,
                    title: 'צפייה בתקציב',
                    text: 'בטאב **"משימות"** תראה עמודה "תקציב". המספרים מראים: שעות בפועל / שעות משוערות'
                },
                {
                    number: 2,
                    title: 'זיהוי חריגות',
                    text: `המערכת מסמנת באדום משימות שחרגו:
🔴 **אדום** = חריגה מהתקציב
🟢 **ירוק** = בתוך התקציב
⚪ **אפור** = אין תקציב מוגדר`
                },
                {
                    number: 3,
                    title: 'פעולות',
                    text: 'אפשר לסנן "חריגות בלבד" כדי לראות רק משימות שחרגו.'
                }
            ],

            tips: [
                '💡 עדכן את השעות המשוערות אם צריך יותר זמן',
                '📊 השתמש בדוחות לניתוח תקציבי',
                '⚠️ חריגה לא אומרת שגיאה - לפעמים דברים לוקחים יותר זמן'
            ],

            relatedArticles: ['add_time_to_task', 'create_task', 'edit_task']
        }
    },

    {
        id: 'edit_task',
        category: 'budget',
        title: 'איך עורכים משימה קיימת?',
        summary: 'שינוי פרטים של משימה אחרי יצירתה',
        keywords: ['עריכה', 'שינוי משימה', 'edit task', 'עדכון'],
        icon: 'edit',

        content: {
            intro: 'אפשר לערוך משימה בכל זמן - תיאור, תאריך יעד, או שעות משוערות.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת המשימה',
                    text: 'עבור לטאב **"משימות"** ומצא את המשימה.'
                },
                {
                    number: 2,
                    title: 'לחיצה על עריכה',
                    text: 'לחץ על אייקון העיפרון ✏️ ליד המשימה.'
                },
                {
                    number: 3,
                    title: 'עדכון פרטים',
                    text: 'שנה את הפרטים הרצויים: תיאור, שעות משוערות, או תאריך יעד.'
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: 'לחץ **"שמור"**. השינויים יחולו מיד.'
                }
            ],

            tips: [
                '✏️ ניתן לשנות הכל חוץ מהלקוח והתיק',
                '📅 עדכון שעות משוערות משפיע על חישוב התקציב',
                '💾 השינויים נשמרים מיד - אין צורך לרענן'
            ],

            relatedArticles: ['create_task', 'delete_task', 'track_budget']
        }
    },

    {
        id: 'delete_task',
        category: 'budget',
        title: 'איך מוחקים משימה?',
        summary: 'מחיקת משימה שכבר לא רלוונטית',
        keywords: ['מחיקה', 'הסרה', 'delete', 'remove task'],
        icon: 'delete',

        content: {
            intro: 'מחיקת משימה היא פעולה בלתי הפיכה - המשימה וכל הזמנים שלה יימחקו.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת המשימה',
                    text: 'עבור לטאב **"משימות"** ומצא את המשימה.'
                },
                {
                    number: 2,
                    title: 'לחיצה על מחיקה',
                    text: 'לחץ על אייקון הפח 🗑️ ליד המשימה.'
                },
                {
                    number: 3,
                    title: 'אישור',
                    text: 'תישאל "בטוח למחוק?" - לחץ **"אישור"**.'
                },
                {
                    number: 4,
                    title: 'המשימה נמחקה',
                    text: 'המשימה וכל דיווחי הזמן שלה נמחקו מהמערכת.'
                }
            ],

            tips: [
                '⚠️ פעולה בלתי הפיכה! שקול היטב לפני מחיקה',
                '💡 אם המשימה הושלמה - אין צורך למחוק, פשוט סמן כהושלמה',
                '🔒 רק בעל המשימה יכול למחוק אותה'
            ],

            relatedArticles: ['create_task', 'edit_task', 'complete_task']
        }
    },

    {
        id: 'complete_task',
        category: 'budget',
        title: 'איך מסמנים משימה כהושלמה?',
        summary: 'סימון משימה שהסתיימה',
        keywords: ['השלמה', 'סיום', 'complete', 'finish', 'done'],
        icon: 'check',

        content: {
            intro: 'כשמשימה הסתיימה, אפשר לסמן אותה כהושלמה.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת המשימה',
                    text: 'עבור לטאב **"משימות"** ומצא את המשימה.'
                },
                {
                    number: 2,
                    title: 'לחיצה על V',
                    text: 'לחץ על אייקון ה-✓ (V) ליד המשימה.'
                },
                {
                    number: 3,
                    title: 'אישור',
                    text: 'תישאל "המשימה הושלמה?" - לחץ **"אישור"**.'
                },
                {
                    number: 4,
                    title: 'המשימה הושלמה',
                    text: 'המשימה תעבור לרשימת "משימות מושלמות" ולא תופיע יותר ברשימה הפעילה.'
                }
            ],

            tips: [
                '✅ משימות מושלמות נשמרות במערכת',
                '🔄 ניתן לבטל השלמה אם טעית',
                '📊 משימות מושלמות מופיעות בדוחות'
            ],

            relatedArticles: ['create_task', 'delete_task', 'track_budget']
        }
    },

    // ─────────────────────────────────────────────────────────────────────────
    // קטגוריה: שעתון ודיווחי זמן
    // ─────────────────────────────────────────────────────────────────────────
    {
        id: 'report_hours',
        category: 'timesheet',
        title: 'איך מדווחים על פעילות פנימית/משרדית?',
        summary: 'דיווח זמן שלא קשור ללקוח (ישיבות, הדרכות, וכו\')',
        keywords: ['דווח שעות', 'פעילות פנימית', 'פעילות משרדית', 'ישיבה', 'הדרכה', 'timesheet', 'שעתון'],
        icon: 'office',

        content: {
            intro: 'שעתון זה רק לפעילות פנימית! זמן עבודה על לקוחות נרשם אוטומטית כשמוסיפים זמן למשימה.',

            important: `**שים לב!** כאן רושמים רק:
• 📋 ישיבות צוות
• 📚 הדרכות
• 🔧 תחזוקה משרדית
• 📞 שיחות כלליות`,

            steps: [
                {
                    number: 1,
                    title: 'מעבר לטאב שעתון',
                    text: 'לחץ על טאב **"שעתון"** בראש המסך.'
                },
                {
                    number: 2,
                    title: 'פתיחת טופס',
                    text: 'לחץ על כפתור **+** בטאב שעתון.'
                },
                {
                    number: 3,
                    title: 'מילוי פרטים',
                    text: `הזן:
• **תאריך**: מתי הייתה הפעילות
• **דקות**: כמה זמן לקח
• **תיאור**: מה עשית (ישיבה, הדרכה, וכו')`
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: 'לחץ **"הוסף פעילות פנימית"**. הדיווח יופיע בשעתון.'
                }
            ],

            tips: [
                '🚫 אל תדווח כאן זמן עבודה על לקוחות!',
                '⏱️ זמן לקוחות נרשם דרך "הוסף זמן למשימה"',
                '📊 דיווחים פנימיים מופיעים בדוחות בנפרד'
            ],

            actionButton: {
                text: '🚀 פתח טופס שעתון עכשיו',
                action: '(() => { window.switchTab?.("timesheet"); setTimeout(() => window.openSmartForm?.(), 200); })()'
            },

            relatedArticles: ['add_time_to_task', 'edit_timesheet', 'export_timesheet']
        }
    },

    {
        id: 'edit_timesheet',
        category: 'timesheet',
        title: 'איך עורכים דיווח זמן?',
        summary: 'שינוי דיווח שעות אחרי שנוצר',
        keywords: ['עריכה', 'שינוי', 'edit timesheet', 'עדכון שעות'],
        icon: 'edit',

        content: {
            intro: 'אפשר לערוך כל דיווח זמן - תאריך, שעות, או תיאור.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת הדיווח',
                    text: 'עבור לטאב **"שעתון"** ומצא את הדיווח בטבלה.'
                },
                {
                    number: 2,
                    title: 'לחיצה על עריכה',
                    text: 'לחץ על אייקון העיפרון ✏️ בשורה.'
                },
                {
                    number: 3,
                    title: 'עדכון פרטים',
                    text: 'שנה את הפרטים: תאריך, דקות, או תיאור.'
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: 'לחץ **"שמור"**. השינויים יחולו מיד.'
                }
            ],

            tips: [
                '✏️ ניתן לשנות הכל',
                '💾 השינויים משפיעים על הדוחות',
                '🔒 ניתן לערוך רק דיווחים שלך'
            ],

            relatedArticles: ['report_hours', 'delete_timesheet', 'export_timesheet']
        }
    },

    {
        id: 'delete_timesheet',
        category: 'timesheet',
        title: 'איך מוחקים דיווח זמן?',
        summary: 'מחיקת דיווח שעות שגוי',
        keywords: ['מחיקה', 'delete', 'remove timesheet', 'הסרה'],
        icon: 'delete',

        content: {
            intro: 'מחיקת דיווח זמן היא פעולה בלתי הפיכה.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת הדיווח',
                    text: 'עבור לטאב **"שעתון"** ומצא את הדיווח.'
                },
                {
                    number: 2,
                    title: 'לחיצה על מחיקה',
                    text: 'לחץ על אייקון הפח 🗑️ בשורה.'
                },
                {
                    number: 3,
                    title: 'אישור',
                    text: 'תישאל "בטוח למחוק?" - לחץ **"אישור"**.'
                },
                {
                    number: 4,
                    title: 'הדיווח נמחק',
                    text: 'הדיווח נמחק מהמערכת ומהדוחות.'
                }
            ],

            tips: [
                '⚠️ פעולה בלתי הפיכה!',
                '💡 אם רק טעית במספרים - עדיף לערוך',
                '🔒 ניתן למחוק רק דיווחים שלך'
            ],

            relatedArticles: ['edit_timesheet', 'report_hours']
        }
    },

    {
        id: 'export_timesheet',
        category: 'timesheet',
        title: 'איך מייצאים שעתון לאקסל?',
        summary: 'יצוא נתוני שעתון לקובץ Excel',
        keywords: ['ייצוא', 'אקסל', 'excel', 'export', 'download'],
        icon: 'download',

        content: {
            intro: 'אפשר לייצא את כל השעתון או חלק ממנו לקובץ Excel.',

            steps: [
                {
                    number: 1,
                    title: 'מעבר לטאב שעתון',
                    text: 'לחץ על טאב **"שעתון"**.'
                },
                {
                    number: 2,
                    title: 'סינון (אופציונלי)',
                    text: 'אפשר לסנן לפי תאריכים, לקוח, או עובד.'
                },
                {
                    number: 3,
                    title: 'לחיצה על ייצוא',
                    text: 'לחץ על כפתור **"ייצא לאקסל"** 📥.'
                },
                {
                    number: 4,
                    title: 'שמירת הקובץ',
                    text: 'הקובץ יורד אוטומטית למחשב. פתח אותו באקסל.'
                }
            ],

            tips: [
                '📊 הקובץ כולל את כל העמודות מהטבלה',
                '🔍 סנן לפני ייצוא כדי לקבל רק מה שצריך',
                '📅 שם הקובץ כולל את התאריך'
            ],

            relatedArticles: ['report_hours', 'edit_timesheet']
        }
    },

    {
        id: 'understand_timesheet_types',
        category: 'timesheet',
        title: 'מה ההבדל בין זמן לקוח לזמן משרדי?',
        summary: 'הסבר על סוגי דיווחי הזמן השונים',
        keywords: ['הבדל', 'זמן לקוח', 'זמן משרדי', 'פנימי', 'types'],
        icon: 'question',

        content: {
            intro: 'במערכת יש שני סוגי דיווחי זמן - חשוב להבין את ההבדל.',

            sections: [
                {
                    title: '👥 זמן לקוח (קשור למשימה)',
                    text: `זמן שמוקדש לעבודה ספציפית על לקוח:
• נרשם דרך **"הוסף זמן למשימה"**
• קשור לתיק ולקוח
• משפיע על תקציב המשימה
• מופיע גם בטאב משימות וגם בשעתון
• **ניתן לחייב את הלקוח על זה**`
                },
                {
                    title: '🏢 זמן פנימי/משרדי',
                    text: `זמן שלא קשור לעבודה על לקוח:
• נרשם דרך טאב **"שעתון"**
• אין קשר ללקוח או תיק
• לא משפיע על תקציבים
• מופיע רק בשעתון
• **לא ניתן לחייב לקוח**

דוגמאות:
📋 ישיבות צוות
📚 הדרכות
🔧 תחזוקת משרד
📞 שיחות כלליות`
                }
            ],

            tips: [
                '💡 תמיד שאל את עצמך: "האם זה קשור לתיק של לקוח?"',
                '✅ אם כן → הוסף זמן למשימה',
                '❌ אם לא → דווח בשעתון כפעילות פנימית'
            ],

            relatedArticles: ['add_time_to_task', 'report_hours']
        }
    },

    // ─────────────────────────────────────────────────────────────────────────
    // קטגוריה: לקוחות ותיקים
    // ─────────────────────────────────────────────────────────────────────────
    {
        id: 'search_client',
        category: 'clients',
        title: 'איך מחפשים לקוח?',
        summary: 'חיפוש לקוח במערכת',
        keywords: ['חפש לקוח', 'מצא לקוח', 'search', 'find client', 'חיפוש'],
        icon: 'search',

        content: {
            intro: 'המערכת מאפשרת חיפוש מהיר של לקוחות בכל מקום.',

            steps: [
                {
                    number: 1,
                    title: 'היכן לחפש?',
                    text: `יש כמה מקומות:
• שדה חיפוש בכל טופס משימה
• רשימת הלקוחות בסרגל הצדדי
• טאב "לקוחות" (אם יש במערכת)`
                },
                {
                    number: 2,
                    title: 'הקלדת החיפוש',
                    text: 'התחל להקליד: שם, ת.ז., טלפון, או אימייל.'
                },
                {
                    number: 3,
                    title: 'בחירת לקוח',
                    text: 'הרשימה תסתנן אוטומטית. לחץ על הלקוח הרצוי.'
                }
            ],

            tips: [
                '🔍 החיפוש עובד על כל השדות בו-זמנית',
                '⚡ התוצאות מופיעות בזמן אמת',
                '📱 אפשר לחפש גם לפי מספר טלפון חלקי'
            ],

            relatedArticles: ['create_case', 'create_task']
        }
    },

    {
        id: 'create_case',
        category: 'clients',
        title: 'איך פותחים תיק חדש?',
        summary: 'יצירת תיק חדש ללקוח',
        keywords: ['תיק חדש', 'לקוח חדש', 'case', 'client', 'פתח תיק', 'תיק'],
        icon: 'folder',

        content: {
            intro: 'פתיחת תיק חדש ללקוח - קיים או חדש.',

            steps: [
                {
                    number: 1,
                    title: 'פתיחת טופס תיק',
                    text: 'לחץ על **"תיק חדש"** בסרגל הצדדי השמאלי.'
                },
                {
                    number: 2,
                    title: 'פרטי התיק',
                    text: `מלא את הפרטים:
• **לקוח**: בחר קיים או צור חדש
• **מספר תיק**: מספר ייחודי
• **סוג הליך**: שעות / הליך משפטי
• **כותרת**: תיאור קצר של התיק`
                },
                {
                    number: 3,
                    title: 'שמירה',
                    text: 'בחר **תאריך התחלה** ולחץ **"צור תיק"**.'
                },
                {
                    number: 4,
                    title: 'התיק נוצר',
                    text: 'התיק יופיע ברשימת התיקים ואפשר להתחיל לעבוד עליו.'
                }
            ],

            tips: [
                '✅ ניתן לערוך את התיק אחרי היצירה',
                '📋 מספר תיק חייב להיות ייחודי',
                '🏷️ סוג ההליך משפיע על תמחור'
            ],

            actionButton: {
                text: '🚀 פתח טופס תיק חדש',
                action: 'window.casesManager?.showCreateCaseDialog?.()'
            },

            relatedArticles: ['search_client', 'create_task', 'edit_case']
        }
    },

    {
        id: 'edit_case',
        category: 'clients',
        title: 'איך עורכים תיק קיים?',
        summary: 'שינוי פרטי תיק',
        keywords: ['עריכה', 'שינוי תיק', 'edit case', 'עדכון תיק'],
        icon: 'edit',

        content: {
            intro: 'אפשר לערוך תיק בכל זמן - שם, סוג הליך, או פרטים אחרים.',

            steps: [
                {
                    number: 1,
                    title: 'מציאת התיק',
                    text: 'מצא את התיק ברשימת התיקים בסרגל הצדדי.'
                },
                {
                    number: 2,
                    title: 'לחיצה על עריכה',
                    text: 'לחץ על אייקון העיפרון ✏️ ליד התיק.'
                },
                {
                    number: 3,
                    title: 'עדכון פרטים',
                    text: 'שנה את הפרטים הרצויים.'
                },
                {
                    number: 4,
                    title: 'שמירה',
                    text: 'לחץ **"שמור"**. השינויים יחולו מיד.'
                }
            ],

            tips: [
                '✏️ ניתן לשנות הכל חוץ ממספר התיק',
                '⚠️ שינויים משפיעים על כל המשימות בתיק',
                '💾 השינויים נשמרים מיד'
            ],

            relatedArticles: ['create_case', 'delete_case']
        }
    },

    {
        id: 'delete_case',
        category: 'clients',
        title: 'איך סוגרים או מוחקים תיק?',
        summary: 'סגירת תיק שהסתיים',
        keywords: ['סגירה', 'מחיקה', 'close case', 'delete case'],
        icon: 'lock',

        content: {
            intro: 'ניתן לסגור תיק שהסתיים או למחוק תיק שנפתח בטעות.',

            sections: [
                {
                    title: '🔒 סגירת תיק (מומלץ)',
                    text: `תיק סגור נשמר במערכת אבל לא פעיל:
• כל ההיסטוריה נשמרת
• מופיע בדוחות
• לא ניתן להוסיף משימות חדשות
• ניתן לפתוח מחדש בעתיד`
                },
                {
                    title: '🗑️ מחיקת תיק (זהירות!)',
                    text: `מחיקה מוחקת הכל:
• כל המשימות נמחקות
• כל דיווחי הזמן נמחקים
• **לא ניתן לשחזר!**
• רק אם התיק נפתח בטעות`
                }
            ],

            steps: [
                {
                    number: 1,
                    title: 'מציאת התיק',
                    text: 'מצא את התיק ברשימה.'
                },
                {
                    number: 2,
                    title: 'בחירת פעולה',
                    text: 'בחר "סגור תיק" 🔒 או "מחק תיק" 🗑️.'
                },
                {
                    number: 3,
                    title: 'אישור',
                    text: 'אשר את הפעולה.'
                }
            ],

            tips: [
                '💡 תמיד עדיף לסגור תיק ולא למחוק',
                '⚠️ מחיקה בלתי הפיכה!',
                '📊 תיקים סגורים מופיעים בדוחות'
            ],

            relatedArticles: ['create_case', 'edit_case']
        }
    },

    // ─────────────────────────────────────────────────────────────────────────
    // קטגוריה: כללי
    // ─────────────────────────────────────────────────────────────────────────
    {
        id: 'keyboard_shortcuts',
        category: 'general',
        title: 'קיצורי מקלדת',
        summary: 'רשימת קיצורי דרך שימושיים',
        keywords: ['קיצורים', 'מקלדת', 'shortcuts', 'hotkeys'],
        icon: 'keyboard',

        content: {
            intro: 'קיצורי מקלדת לעבודה מהירה יותר.',

            sections: [
                {
                    title: '⚡ קיצורים כלליים',
                    text: `• **Ctrl + N** - משימה חדשה
• **Ctrl + S** - שמור (בטפסים)
• **Esc** - סגור חלון/טופס
• **F5** - רענן דף`
                },
                {
                    title: '🔍 חיפוש וניווט',
                    text: `• **Ctrl + F** - חיפוש בדף
• **Tab** - מעבר בין שדות
• **Enter** - שמור/אישור`
                }
            ],

            tips: [
                '⌨️ קיצורים עובדים בכל הדפדפנים',
                '💡 חסוך זמן על ידי שימוש בקיצורים',
                '🎯 Esc סוגר כמעט כל חלון'
            ]
        }
    },

    {
        id: 'browser_support',
        category: 'general',
        title: 'אילו דפדפנים נתמכים?',
        summary: 'דרישות מערכת ותאימות דפדפנים',
        keywords: ['דפדפן', 'browser', 'chrome', 'firefox', 'edge', 'תאימות'],
        icon: 'browser',

        content: {
            intro: 'המערכת פועלת בכל דפדפן מודרני.',

            sections: [
                {
                    title: '✅ דפדפנים נתמכים',
                    text: `• Google Chrome (מומלץ)
• Microsoft Edge
• Mozilla Firefox
• Safari (Mac)
• Opera`
                },
                {
                    title: '⚠️ דרישות מינימום',
                    text: `• חיבור אינטרנט יציב
• JavaScript מופעל
• Cookies מופעלים`
                }
            ],

            tips: [
                '💡 Chrome מומלץ לביצועים מיטביים',
                '🔄 עדכן את הדפדפן לגרסה אחרונה',
                '📱 המערכת מותאמת גם למובייל'
            ]
        }
    },

    {
        id: 'data_safety',
        category: 'general',
        title: 'האם הנתונים שלי בטוחים?',
        summary: 'אבטחה וגיבוי מידע',
        keywords: ['אבטחה', 'גיבוי', 'security', 'backup', 'בטיחות'],
        icon: 'lock',

        content: {
            intro: 'המערכת משתמשת ב-Firebase - פלטפורמת ענן מאובטחת של Google.',

            sections: [
                {
                    title: '🔐 אבטחה',
                    text: `• כל הנתונים מוצפנים
• חיבור HTTPS מאובטח
• הרשאות משתמשים
• גיבוי אוטומטי כל 24 שעות`
                },
                {
                    title: '💾 גיבוי',
                    text: `• גיבוי אוטומטי יומי
• שמירה ב-Google Cloud
• אפשרות לשחזור במקרה צורך`
                }
            ],

            tips: [
                '✅ הנתונים מאוחסנים בשרתי Google',
                '🔒 רק משתמשים מורשים רואים את הנתונים',
                '💾 אין צורך בגיבוי ידני'
            ]
        }
    }
];

// ═══════════════════════════════════════════════════════════════════════════
// EXPORTS
// ═══════════════════════════════════════════════════════════════════════════

if (typeof module !== 'undefined' && module.exports) {
    module.exports = { KB_CATEGORIES, KB_ARTICLES };
}
