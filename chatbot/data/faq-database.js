/**
 * מאגר שאלות ותשובות - FAQ Database
 * מכיל את כל השאלות, התשובות וההצעות ההקשריות של הצ'אטבוט
 */

// מאגר שאלות ותשובות - מדויק לפי הקוד האמיתי
export const faqDatabase = {
    // תיקים ולקוחות
    clients: [
        {
            keywords: ['תיק חדש', 'הוסף תיק', 'לקוח חדש', 'יצירת תיק', 'תיק חדש',
                       'איך אני מוסיף לקוח', 'איך עושים תיק', 'לא יודע איך ליצור תיק',
                       'תעזור לי להוסיף לקוח', 'איך אני יוצר', 'תראה לי איך'],
            question: 'איך ליצור תיק חדש?',
            answer: `
                <strong>יצירת תיק חדש:</strong>
                <ol>
                    <li>לחץ על כפתור <strong>"תיק חדש"</strong> בסרגל הצדדי</li>
                    <li>בחר לקוח קיים או צור לקוח חדש</li>
                    <li>בחר סוג תיק: שעות, הליך משפטי, או מחיר קבוע</li>
                    <li>הזן כותרת תיק ומקצה עו"ד</li>
                    <li>בחר תאריך התחלה ולחץ "צור"</li>
                </ol>
                <em>💡 טיפ: אפשר גם ללחוץ Ctrl+N</em>
            `,
            category: 'clients',
            guideType: 'create_client',
            selector: '#smartPlusBtn'
        },
        {
            keywords: ['חפש לקוח', 'מצא לקוח', 'איפה לקוח', 'חיפוש לקוח', 'מציאת תיק'],
            question: 'איך לחפש לקוח או תיק?',
            answer: `
                <strong>חיפוש לקוח/תיק:</strong>
                <p>בדיאלוג יצירת משימה או דיווח שעות, השתמש בשדה החיפוש:</p>
                <ul>
                    <li>📝 שם הלקוח</li>
                    <li>🆔 תעודת זהות</li>
                    <li>📞 מספר טלפון</li>
                    <li>📧 כתובת אימייל</li>
                </ul>
                <em>החיפוש מיידי ומתעדכן תוך כדי הקלדה (300ms)</em>
            `,
            category: 'clients'
        },
        {
            keywords: ['ערוך תיק', 'עדכן תיק', 'שנה תיק', 'עריכת לקוח'],
            question: 'איך לערוך תיק?',
            answer: `
                <strong>עריכת תיק:</strong>
                <ol>
                    <li>מצא את התיק ברשימה</li>
                    <li>לחץ על תפריט הפעולות (⋮)</li>
                    <li>בחר "ערוך"</li>
                    <li>עדכן את הפרטים הרצויים</li>
                    <li>לחץ "שמור"</li>
                </ol>
            `,
            category: 'clients'
        },
        {
            keywords: ['מחק תיק', 'הסר תיק', 'מחיקת לקוח'],
            question: 'איך למחוק תיק?',
            answer: `
                <strong>מחיקת תיק:</strong>
                <p>⚠️ <strong>אזהרה:</strong> מחיקת תיק תמחק את כל המשימות והשעות הקשורות!</p>
                <ol>
                    <li>מצא את התיק ברשימה</li>
                    <li>לחץ על תפריט הפעולות (⋮)</li>
                    <li>בחר "מחק"</li>
                    <li>אשר את המחיקה</li>
                </ol>
            `,
            category: 'clients'
        }
    ],

    // משימות תקצוב
    tasks: [
        {
            keywords: ['משימה חדשה', 'הוסף משימה', 'יצירת משימה', 'תקצוב חדש', 'משימת תקצוב',
                       'איך אני מוסיף משימה', 'איך עושים משימה', 'לא יודע איך להוסיף משימה',
                       'תעזור לי ליצור משימה', 'איך אני יוצר משימה', 'תראה לי איך עושים משימה'],
            question: 'איך ליצור משימת תקצוב?',
            answer: `
                <strong>יצירת משימת תקצוב:</strong>
                <ol>
                    <li>עבור לטאב <strong>"תקצוב משימות"</strong></li>
                    <li>לחץ על כפתור <strong>"+"</strong> או "הוסף משימה"</li>
                    <li>בחר לקוח ותיק (2 שלבים)</li>
                    <li>הזן תיאור המשימה (לפחות 3 תווים)</li>
                    <li>הזן דקות משוערות (לפחות דקה אחת)</li>
                    <li>בחר תאריך יעד</li>
                    <li>לחץ <strong>"הוסף לתקצוב"</strong></li>
                </ol>
                <em>💡 המשימה תופיע ברשימת "פעילות בלבד"</em>
            `,
            category: 'tasks',
            guideType: 'create_task',
            selector: '#smartPlusBtn'
        },
        {
            keywords: ['השלם משימה', 'סיים משימה', 'סמן משימה', 'השלמת משימה', 'משימה הושלמה'],
            question: 'איך לסמן משימה כהושלמה?',
            answer: `
                <strong>השלמת משימה - 2 דרכים:</strong>
                <p><strong>1. דרך מהירה:</strong></p>
                <ul>
                    <li>לחץ על כפתור ה-✓ (V) הירוק ליד המשימה</li>
                </ul>
                <p><strong>2. דרך מפורטת:</strong></p>
                <ol>
                    <li>לחץ על כרטיס המשימה להרחבה</li>
                    <li>לחץ על כפתור "השלם"</li>
                    <li>במודאל - צפה בסטטיסטיקות (זמן משוער vs בפועל)</li>
                    <li>הוסף הערות (אופציונלי)</li>
                    <li>לחץ "אשר"</li>
                </ol>
                <em>⏰ המערכת תתעד את הזמן בו המשימה הושלמה</em>
            `,
            category: 'tasks'
        },
        {
            keywords: ['משימות פעילות', 'משימות שלי', 'מה יש לי', 'רשימת משימות', 'תצוגת משימות'],
            question: 'איפה לראות את המשימות שלי?',
            answer: `
                <strong>תצוגות במסך תקצוב משימות:</strong>
                <p><strong>סינון (Dropdown "הצג"):</strong></p>
                <ul>
                    <li>🟢 <strong>פעילות בלבד</strong> (ברירת מחדל) - משימות שטרם הושלמו</li>
                    <li>✅ <strong>שהושלמו (חודש אחרון)</strong> - משימות מ-30 הימים האחרונים</li>
                    <li>📋 <strong>הכל</strong> - כל המשימות</li>
                </ul>
                <p><strong>תצוגות:</strong></p>
                <ul>
                    <li>🎴 <strong>כרטיסיות</strong> - תצוגה חזותית עם פרטים</li>
                    <li>📊 <strong>טבלה</strong> - תצוגה קומפקטית</li>
                </ul>
                <em>אפשר גם לחפש משימות בשדה החיפוש</em>
            `,
            category: 'tasks'
        },
        {
            keywords: ['סטטוס משימה', 'מצב משימה', 'פעילה', 'הושלמה'],
            question: 'מה המשמעות של סטטוס משימה?',
            answer: `
                <strong>סטטוסים של משימות:</strong>
                <ul>
                    <li>🟢 <strong>פעילה</strong> - משימה שטרם הושלמה (status: 'active')</li>
                    <li>✅ <strong>הושלמה</strong> - משימה שסומנה כהושלמה (status: 'הושלם')</li>
                </ul>
                <p>בנוסף, המערכת מעקבת אחרי:</p>
                <ul>
                    <li>⏱️ דקות משוערות (estimatedMinutes)</li>
                    <li>✏️ דקות בפועל (actualMinutes)</li>
                    <li>📊 זמן שהושקע (timeSpent)</li>
                    <li>📅 תאריך יעד (deadline)</li>
                </ul>
            `,
            category: 'tasks'
        }
    ],

    // שעתון
    timesheet: [
        {
            keywords: ['דיווח שעות', 'רישום שעות', 'שעות עבודה', 'הוסף שעות', 'דיווח חדש',
                       'איך אני מדווח', 'איך עושים דיווח', 'לא יודע איך לדווח שעות',
                       'תעזור לי לדווח', 'איך אני מדווח שעות', 'תראה לי איך מדווחים'],
            question: 'איך לדווח על שעות עבודה?',
            answer: `
                <strong>דיווח שעות עבודה:</strong>
                <ol>
                    <li>עבור לטאב <strong>"שעתון"</strong></li>
                    <li>לחץ על כפתור <strong>"+"</strong> או "הוסף לשעתון"</li>
                    <li>בחר תאריך (ברירת מחדל: היום)</li>
                    <li>הזן דקות (1-999)</li>
                    <li>בחר לקוח ותיק (או סמן "פעילות משרדית פנימית")</li>
                    <li>תאר את הפעולה שביצעת (לפחות 3 תווים)</li>
                    <li>הוסף הערות (אופציונלי)</li>
                    <li>לחץ <strong>"הוסף לשעתון"</strong></li>
                </ol>
                <em>⚡ אפשר גם לדווח ישירות ממשימה שהושלמה</em>
            `,
            category: 'timesheet',
            guideType: 'report_hours',
            selector: '#smartPlusBtn'
        },
        {
            keywords: ['סיכום שעות', 'כמה שעות', 'סך שעות', 'מכסת שעות', 'תקן שעות'],
            question: 'איך לראות סיכום שעות?',
            answer: `
                <strong>סיכום שעות:</strong>
                <p><strong>בראש מסך השעתון תמיד מוצג:</strong></p>
                <ul>
                    <li>⏰ <strong>סך שעות השבוע</strong> - כמה עבדת השבוע</li>
                    <li>🎯 <strong>תקן שעות שבועי</strong> - היעד לפי תפקידך</li>
                    <li>📊 <strong>קו התקדמות</strong> - אחוז השלמה חזותי</li>
                </ul>
                <p><strong>דוחות מתקדמים:</strong></p>
                <p>עבור לטאב "דוחות" לסינון לפי חודש/שנה/טווח תאריכים</p>
            `,
            category: 'timesheet'
        },
        {
            keywords: ['ערוך שעות', 'שנה דיווח', 'תיקון שעות', 'עדכן דיווח'],
            question: 'איך לערוך דיווח שעות קיים?',
            answer: `
                <strong>עריכת דיווח שעות:</strong>
                <ol>
                    <li>מצא את הדיווח ברשימה</li>
                    <li>לחץ על כפתור העריכה ✏️</li>
                    <li>עדכן את השדות: דקות, תאריך, תיאור, לקוח</li>
                    <li>לחץ "עדכן"</li>
                </ol>
                <p>⚠️ <strong>הגבלה:</strong> ניתן לערוך רק דיווחים מהשבוע האחרון</p>
            `,
            category: 'timesheet'
        },
        {
            keywords: ['תצוגות שעתון', 'סינון שעות', 'חודש אחרון', 'היום'],
            question: 'איך לסנן את רשומות השעתון?',
            answer: `
                <strong>תצוגות וסינונים בשעתון:</strong>
                <p><strong>Dropdown "הצג":</strong></p>
                <ul>
                    <li>📅 <strong>חודש אחרון</strong> (ברירת מחדל) - רשומות מ-30 ימים</li>
                    <li>📆 <strong>היום בלבד</strong> - רק רשומות של היום</li>
                    <li>📋 <strong>הכל</strong> - כל הרשומות</li>
                </ul>
                <p><strong>תצוגות:</strong></p>
                <ul>
                    <li>📊 <strong>טבלה</strong> (מומלץ) - תצוגה ברורה עם עמודות</li>
                    <li>🎴 <strong>כרטיסיות</strong> - תצוגה חזותית</li>
                </ul>
                <em>אפשר גם לחפש רשומות בשדה החיפוש</em>
            `,
            category: 'timesheet'
        },
        {
            keywords: ['פעילות פנימית', 'משרדית פנימית', 'ללא לקוח'],
            question: 'מה זה פעילות משרדית פנימית?',
            answer: `
                <strong>פעילות משרדית פנימית:</strong>
                <p>זו פעילות שלא קשורה ללקוח ספציפי, כגון:</p>
                <ul>
                    <li>ישיבות צוות</li>
                    <li>הדרכות פנימיות</li>
                    <li>עבודה מנהלית</li>
                </ul>
                <p><strong>איך לדווח:</strong></p>
                <ol>
                    <li>בטופס דיווח שעות, סמן ✓ "פעילות משרדית פנימית"</li>
                    <li>כשמסומן - אין צורך לבחור לקוח/תיק</li>
                    <li>כשלא מסומן - חובה לבחור לקוח ותיק</li>
                </ol>
            `,
            category: 'timesheet'
        }
    ],

    // כללי
    general: [
        {
            keywords: ['קיצורי מקלדת', 'shortcuts', 'מקשים', 'קיצורים'],
            question: 'אילו קיצורי מקלדת קיימים?',
            answer: `
                <strong>קיצורי מקלדת שימושיים:</strong>
                <ul>
                    <li><kbd>Ctrl + N</kbd> - פתיחת טופס חדש (משימה/תיק)</li>
                    <li><kbd>Ctrl + F</kbd> - מעבר לשדה חיפוש</li>
                    <li><kbd>Ctrl + S</kbd> - שמירת טופס</li>
                    <li><kbd>Esc</kbd> - סגירת דיאלוג/מודאל</li>
                    <li><kbd>F1</kbd> - פתיחת הבוט החכם (אני!)</li>
                </ul>
                <em>💡 השתמש בהם לעבודה מהירה יותר</em>
            `,
            category: 'general'
        },
        {
            keywords: ['שכחתי סיסמה', 'איפוס סיסמה', 'לא זוכר סיסמה', 'התחברות', 'אפס סיסמה'],
            question: 'שכחתי את הסיסמה שלי',
            answer: `
                <strong>איפוס סיסמה:</strong>
                <ol>
                    <li>במסך הכניסה, לחץ על "שכחתי סיסמה"</li>
                    <li>הזן את כתובת האימייל שלך</li>
                    <li>תקבל קישור לאיפוס באימייל</li>
                    <li>לחץ על הקישור והגדר סיסמה חדשה</li>
                </ol>
                <p>📧 <strong>לא קיבלת מייל?</strong> בדוק גם בתיקיית הספאם</p>
                <p>⚠️ אם הבעיה נמשכת, פנה למנהל המערכת</p>
            `,
            category: 'general'
        },
        {
            keywords: ['הרשאות', 'אין גישה', 'לא רואה', 'מנהל', 'עובד', 'גישה'],
            question: 'למה אני לא רואה חלק מהאפשרויות?',
            answer: `
                <strong>הרשאות במערכת:</strong>
                <p><strong>👤 עובד רגיל:</strong> רואה רק את המשימות והשעות שלו</p>
                <p><strong>👑 מנהל:</strong> גישה מלאה לכל המערכת + דשבורד ניהולי</p>
                <p>💼 צריך הרשאות נוספות? פנה למנהל המערכת</p>
            `,
            category: 'general'
        },
        {
            keywords: ['דשבורד', 'סטטיסטיקות', 'נתונים', 'דוחות', 'ניהול'],
            question: 'איפה הדשבורד והסטטיסטיקות?',
            answer: `
                <strong>דשבורד ניהולי:</strong>
                <p>👑 זמין רק למנהלים</p>
                <p>מציג: סטטיסטיקות, מעקב עובדים, סיכומי שעות וניתוח ביצועים</p>
                <p><strong>איך לגשת:</strong> תפריט ראשי → "דשבורד ניהולי"</p>
            `,
            category: 'general'
        },
        {
            keywords: ['בעיה טכנית', 'תקלה', 'לא עובד', 'שגיאה', 'באג', 'error'],
            question: 'נתקלתי בבעיה טכנית',
            answer: `
                <strong>צעדים ראשונים:</strong>
                <ol>
                    <li>🔄 רענן את הדף (F5)</li>
                    <li>🚪 צא והיכנס שוב</li>
                    <li>🧹 נקה מטמון (Ctrl+Shift+Del)</li>
                </ol>
                <p><strong>עדיין לא עובד?</strong> פנה למנהל עם תיאור הבעיה וצילום מסך</p>
            `,
            category: 'general'
        },
        {
            keywords: ['כפתור פלוס', 'כפתור +', 'הוספה מהירה', 'smart plus'],
            question: 'מה הכפתור + הגדול בראש המסך?',
            answer: `
                <strong>כפתור הפלוס החכם (+):</strong>
                <p>זה כפתור "הוספה מהירה" שנמצא במרכז החלק העליון</p>
                <p><strong>לחיצה עליו פותחת תפריט מהיר עם:</strong></p>
                <ul>
                    <li>➕ הוסף משימת תקצוב</li>
                    <li>⏱️ דווח שעות</li>
                    <li>📁 צור תיק חדש</li>
                </ul>
                <p>💡 <strong>דרך מהירה:</strong> לחץ Ctrl+N לפתיחה מיידית</p>
                <em>הפונקציה: openSmartForm() במערכת</em>
            `,
            category: 'general'
        },
        {
            keywords: ['התראות', 'פעמון', 'notifications', 'הודעות'],
            question: 'מה הפעמון בראש המסך?',
            answer: `
                <strong>מערכת התראות:</strong>
                <p>הפעמון בחלק העליון מציג התראות חשובות:</p>
                <ul>
                    <li>❌ <strong>חסומים</strong> - לקוחות ללא שעות נותרות</li>
                    <li>⚠️ <strong>קריטיים</strong> - לקוחות עם מעט שעות</li>
                    <li>⏱️ <strong>דחופים</strong> - משימות שעבר תאריך היעד</li>
                </ul>
                <p><strong>פעולות:</strong></p>
                <ul>
                    <li>לחץ על התראה לפרטים</li>
                    <li>הסר התראה בודדת</li>
                    <li>נקה את כל ההתראות</li>
                </ul>
            `,
            category: 'general'
        }
    ]
};

// הצעות לפי הקשר
export const contextualSuggestions = {
    clients: [
        'איך ליצור תיק חדש?',
        'איך לחפש לקוח או תיק?',
        'איך לערוך תיק?'
    ],
    tasks: [
        'איך ליצור משימת תקצוב?',
        'איך לסמן משימה כהושלמה?',
        'איפה לראות את המשימות שלי?'
    ],
    timesheet: [
        'איך לדווח על שעות עבודה?',
        'איך לראות סיכום שעות?',
        'מה זה פעילות משרדית פנימית?'
    ],
    default: [
        'אילו קיצורי מקלדת קיימים?',
        'למה אני לא רואה חלק מהאפשרויות?',
        'איך ליצור תיק חדש?'
    ]
};
